{% extends "base.html" %}

{% block title %}lil guys all over the place{% endblock %}

{% block map %}
<div id="map-canvas"></div>
{% endblock %}


{% block content %}
  <ul>
    {% for code, name in lilguy_url_code_to_name.items %}
      <li><a href="/lilguys/g/{{ code }}">{{ name }}</a></li>
    {% endfor %}
  </ul>
  {% endblock %}

{% block javascript %}
<script>
function initialize_map() {
    var mapOptions = {
        center: { lat: -34.397, lng: 150.644},
        zoom: 8
    };
    var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

    var lilguysLocations = {{ lilguy_coords|safe }};
    // var lilguys = {{ lilguys_json }};
    var markers = [];
    var bounds = new google.maps.LatLngBounds();
    for (var i = 0; i < lilguysLocations.length; i++) {
        var coord = new google.maps.LatLng(lilguysLocations[i].lat, 
                                           lilguysLocations[i].lng);
        markers.push(new google.maps.Marker({position: coord, map: map}));
        bounds.extend(coord);
    }
    map.fitBounds(bounds);
}
google.maps.event.addDomListener(window, 'load', initialize_map);
</script>
{% endblock %}
