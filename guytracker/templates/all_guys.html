{% extends "base.html" %}

{% block title %}lil guys all over the place{% endblock %}

{% block map %}
<div id="map-canvas"></div>
{% endblock %}


{% block content %}

  <div id="guy-grid-container">

    <h1>lil guys</h1>

    <h2>scattered all over the world having encounters and adventures, documented by random passing strangers</h2>

    <div id="guy-grid">
      <div class="row">
        {% for code, name in lilguy_url_code_to_name.items %}
        <div class="col-md-4 col-sm-4 col-xs-4 guy-grid-box">
          <a href="/lilguys/g/{{ code }}">
            <img class="img-responsive" src="http://placehold.it/200x200" alt="">
          </a>
          <h3>
            <a href="/lilguys/g/{{ code }}">{{ name }}</a>
          </h3>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
  
{% endblock %}


{% block javascript %}
<script>
function initialize_map() {
    var mapOptions = {
        center: { lat: -34.397, lng: 150.644},
        zoom: 8
    };
    var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

    var lilguys = {{ lilguys_js|safe }};
    var markers = [];
    var bounds = new google.maps.LatLngBounds();
    for (var i = 0; i < lilguys.length; i++) {
        var coord = new google.maps.LatLng(lilguys[i].current_lat, 
                                           lilguys[i].current_lon);
        markers.push(new google.maps.Marker({position: coord, map: map}));
        bounds.extend(coord);
    }
    map.fitBounds(bounds);
}
google.maps.event.addDomListener(window, 'load', initialize_map);
</script>
{% endblock %}
